<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GROUP PILOT RFS INDONESIA</title>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<style>
    html {
  scroll-behavior: smooth;
}
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(#0a1a2f, #000);
    color: white;
    margin: 0;
    
}
.container {
    max-width: 900px;
    margin: auto;
    padding: 20px;
}
h1, h3, h2 {
    text-align: center;
}
/* Warna Tema Terang */
body.light-theme {
    background: linear-gradient(#f0f2f5, #ffffff);
    color: #1a1a1a;
}

body.light-theme .card, 
body.light-theme .header-bar,
body.light-theme .nav-menu {
    background: #ffffff;
    color: #1a1a1a;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    border: 1px solid #ddd;
}

body.light-theme input, 
body.light-theme textarea {
    background: #f9f9f9;
    color: #333;
    border: 1px solid #ccc;
}

body.light-theme .preview {
    background: #eef2f7;
    color: #333;
}

body.light-theme .hamburger svg {
    fill: #1a1a1a;
}

body.light-theme .nav-menu a {
    color: #1a1a1a;
    border-bottom: 1px solid rgba(0,0,0,0.1);
}
/* Pastikan teks pre dan label di preview mengikuti warna body */
body.light-theme .preview pre, 
body.light-theme .preview label,
body.light-theme .preview b {
    color: #1a1a1a !important;
}

/* Ubah border kotak preview agar lebih gelap di tema terang */
body.light-theme .preview div {
    background: rgba(0, 0, 0, 0.05) !important;
    border-color: #ccc !important;
}

/* Beri sedikit warna saat link di-hover pada mode terang */
body.light-theme .nav-menu a:hover {
    background: #e0e0e0;
}

.card {
    background: #111;
    border-radius: 12px;
    padding: 20px;
    margin-top: 25px;
    box-shadow: 0 0 15px rgba(0,150,255,0.3);
}
.btn {
    width: 100%;
    background: #1e90ff;
    padding: 12px;
    color: white;
    border-radius: 8px;
    margin-top: 20px;
    font-weight: bold;
    cursor: pointer;
    border: none;
}
input, textarea {
    width: 95%;
    padding: 10px;
    margin-top: 8px;
    border-radius: 6px;
    border: none;
    font-size: 14px;
}
textarea {
    min-height: 80px;
}
label {
    margin-top: 15px;
    display: block;
}
.preview {
    background: #0b1a33;
    padding: 15px;
    border-radius: 8px;
    margin-top: 20px;
    font-size: 13px;
    white-space: pre-line;
}
.footer {
    text-align: center;
    margin-top: 40px;
    font-size: 12px;
    opacity: 0.6;
}
ul {
    padding-left: 18px;
}
.slider {
  position: relative;
  max-width: 100%;
  overflow: hidden;
  border-radius: 12px;
  margin-top: 15px;
}

.slides {
  display: flex;
  transition: transform 0.5s ease;
}

.slides img {
  width: 100%;
  flex-shrink: 0;
}

.prev, .next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(30,144,255,0.8);
  color: white;
  border: none;
  padding: 10px;
  cursor: pointer;
  border-radius: 50%;
}

.prev { left: 10px; }
.next { right: 10px; }

.prev:hover, .next:hover { background: #1e90ff; }
.qr {
  text-align: center;
  margin-top: 15px;
}
.qr img {
  width: 200px;
  height: 200px;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(0,150,255,0.4);
}
.header-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #111;
  padding: 10px 20px;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(0,150,255,0.3);
  position: sticky;
  top: 0;
  z-index: 999;
}


.header-bar h2 {
  margin: 0;
  font-size: 18px;
}

.hamburger {
  background: none;
  border: none;
  cursor: pointer;
}

/* NAV MENU */
.nav-menu {
  display: none; /* hidden default */
  flex-direction: column;
  background: #0a1a2f;
  position: absolute;
  top: 60px;
  right: 20px;
  border-radius: 12px;
  padding: 10px;
  box-shadow: 0 0 15px rgba(0,150,255,0.4);
}

.nav-menu a {
  color: white;
  text-decoration: none;
  padding: 10px;
  display: block;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

.nav-menu a:last-child {
  border-bottom: none;
}

.nav-menu a:hover {
  background: #1e90ff;
  border-radius: 8px;
}
#main-content, #step-preview {
    animation: fadeIn 0.4s ease-in-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(5px); }
    to { opacity: 1; transform: translateY(0); }
}
.captcha-container {
    display: flex;
    justify-content: center;
    margin: 20px 0;
}
#aturan {
    font-size: 12px;
    line-height: 1.5;
}

#aturan h3 {
    font-size: 14px;
    margin-bottom: 6px;
}

#aturan p {
    margin: 6px 0;
}

#aturan ul {
    padding-left: 18px;
    margin: 6px 0;
}

#aturan li {
    margin-bottom: 4px;
    color: #959595;
}

#aturan hr {
    border: none;
    border-top: 1px dashed #ccc;
    margin: 10px 0;
}
</style>
</head>

<body><br>
<header>
 <div class="header-bar">
  <button class="btn" style="width: auto; margin: 0; padding: 5px 15px;" onclick="toggleTheme()">
    üåì Ganti Tema
  </button>
  <button class="hamburger" onclick="toggleMenu()">
    <svg width="30" height="30" viewBox="0 0 100 80" fill="white">
      <rect width="100" height="15"></rect>
      <rect y="30" width="100" height="15"></rect>
      <rect y="60" width="100" height="15"></rect>
    </svg>
  </button>
</div>
  <nav id="navMenu" class="nav-menu">
    <a href="#keterangan">Keterangan</a>
    <a href="#aturan">Aturan</a>
    <a href="#form">Form Pendaftaran</a>
  </nav>
</header>

 <div class="container">

  <div id="main-content">
    <h2>GROUP PILOT RFS INDONESIA üáÆüá©üáÆüá©‚úàÔ∏è‚úàÔ∏è</h2>
    <p style="text-align:center;">
    Komunitas Flight Simulator Indonesia<br>
    <b>Real Flight Simulator (RFS)</b>
    </p>
    <div class="card">
      <div class="slider">
        <div class="slides">
          <img src="pesawat1.png" alt="Pesawat 1">
           <img src="1.png" alt="Pesawat 1">
          <img src="pesawat2.png" alt="Pesawat 2">
           <img src="2.png" alt="Pesawat 1">
          <img src="pesawat3.png" alt="Pesawat 3">
        </div>
        <button class="prev" onclick="plusSlides(-1)">‚ùÆ</button>
        <button class="next" onclick="plusSlides(1)">‚ùØ</button>
      </div>
    </div>
   <div class="card" id="keterangan">
    <h3>üìå Mengenal GROUP PILOT RFS INDONESIA</h3>
    <p style="text-align: center; opacity: 0.9; line-height: 1.6;">
        Komunitas bagi para pecinta Flight Simulator, khususnya <b>Real Flight Simulator (RFS)</b> di Indonesia üáÆüá©
    </p>

    <div style="display: grid; grid-template-columns: 1fr; gap: 15px; margin-top: 20px;">
        <div style="background: rgba(30,144,255,0.1); padding: 15px; border-radius: 8px; border-left: 4px solid #1e90ff;">
            <b style="color: #1e90ff; display: block; margin-bottom: 8px;">‚úàÔ∏è Wadah Komunitas:</b>
            <ul style="margin: 0; padding-left: 20px; font-size: 14px; line-height: 1.6;">
                <li>Diskusi seputar fitur & update RFS</li>
                <li>Sharing rute, teknik landing, & pengalaman</li>
                <li>Berbagi tips, trik, dan pengaturan pesawat</li>
                <li>Belajar bersama dari pemula hingga pro</li>
            </ul>
        </div>

        <div style="background: rgba(255,107,107,0.1); padding: 15px; border-radius: 8px; border-left: 4px solid #ff6b6b;">
            <b style="color: #ff6b6b; display: block; margin-bottom: 8px;">ü§ù Komitmen Anggota:</b>
            <ul style="margin: 0; padding-left: 20px; font-size: 14px; line-height: 1.6;">
                <li>Gunakan bahasa yang sopan</li>
                <li>Saling menghargai antar sesama pilot virtual</li>
                <li>Dilarang spam, SARA, atau konten negatif</li>
                <li>Menjaga kenyamanan & kekompakan grup</li>
            </ul>
        </div>
        
    </div>
</div>
 <div class="card" id="aturan">
    <h3>ü™ñ‚úàÔ∏è PERATURAN GRUP ‚Äì STATUS SIAGA ‚úàÔ∏èü™ñ</h3>

    <p><b>SELURUH ANGGOTA WAJIB MEMATUHI PERATURAN GRUP</b></p>

    <ul>
        <li>üö´ Stiker jomok = <b>Pelanggaran berat</b></li>
        <li>üìµ Spam telepon &gt; 3x = <b>Tindakan admin</b></li>
        <li>üó£Ô∏è Tidak sopan terhadap admin / member = <b>Tidak ditoleransi</b></li>
        <li>‚ùå Video / tautan judi online & sejenisnya = <b>Blacklist permanen</b></li>
        <li>ü§ù Etika sesama member <b>wajib dijaga</b></li>
        <li>
            ‚ûï Undang anggota diperbolehkan<br>
            Akun spam / tidak aktif / meresahkan = <b>Dikeluarkan</b>
        </li>
    </ul>

    <hr>

    <ul>
        <li>‚ö†Ô∏è Admin bertugas menjaga ketertiban grup</li>
        <li>‚ö†Ô∏è Keputusan admin bersifat final</li>
        <li>‚ö†Ô∏è Pelanggaran ditindak sesuai tingkat kesalahan</li>
    </ul><br>

    <p style="font-size:11px; opacity:0.7;">
Aturan dibuat untuk menjaga kenyamanan bersama, bukan untuk membatasi diskusi sehat.
</p><br>
    <p>
        ‚úàÔ∏è <b>INI ADALAH GRUP PECINTA AVIATION</b><br>
        Disiplin adalah kehormatan<br>
        Saling menghormati adalah kekuatan
    </p><br>

    <p><b>üõ´ SALAM AVIATION üôèü™ñüî•</b></p>
    <p style="font-size:11px; opacity:0.6; margin-top:10px;">
Website ini bersifat komunitas dan tidak berafiliasi dengan pihak resmi pengembang Real Flight Simulator.
</p>
</div>
<div class="card" id="keterangan">
    <h3>üìå Keterangan Pendaftaran</h3>
    <ul>
    <li>Pendaftaran <b>tidak otomatis</b> masuk grup</li>
    <li>Data dikirim ke admin untuk verifikasi</li>
    <li>1 nomor WhatsApp hanya <b>1 kali daftar</b></li>
    <li>Jika salah isi, akan ada verifikasi ulang</li>
    </ul>
    </div>
    <div class="card">
      <h3 id="form">‚úàÔ∏è Form Pendaftaran</h3>

      <h4>üìå Data Wajib</h4>

      <label>Nama <span style="color:#ff6b6b">*</span></label>
      <input id="nama" placeholder="Nama anda">

      <label>Nomor WhatsApp <span style="color:#ff6b6b">*</span></label>
      <input id="wa" type="number" placeholder="08xxxx / 628xxxx">

      <label>Umur <span style="color:#ff6b6b">*</span></label>
      <input id="umur" type="number" min="5" max="100" placeholder="5‚Äì100 tahun">
      <p style="font-size:11px; opacity:0.6;">
Pendaftar di bawah usia tertentu memerlukan pengawasan orang tua.
</p>
      <label>Alasan Masuk <span style="color:#ff6b6b">*</span></label>
      <textarea id="alasan" placeholder="Jelaskan alasan anda ingin bergabung"></textarea>

      <h4>üìù Data Opsional</h4>

      <label>Kelas</label>
      <input id="kelas" placeholder="Contoh: Pilot Pemula / Advance">

      <label>Akun Tiktok</label>
      <input id="tiktok" placeholder="@username">
      <div id="tiktokPreview" style="margin-top:10px;font-size:13px;"></div>

      <label>Jumlah Follower TikTok</label>
      <input id="follower" type="number" placeholder="Misal: 1500">

      <label>Provinsi</label>
      <input id="provinsi" placeholder="Misal: Jawa Barat">

      <label>Kota</label>
      <input id="kota" placeholder="Misal: Bandung">

      <label>Planet</label>
      <input id="planet" placeholder="Misal: Mars / Bumi">

      <label>Galaxy</label>
      <input id="galaxy" placeholder="Misal: Andromeda / Milky Way">
      <br><br>
      <div id="formError" style="color:#ff6b6b; margin-top:10px; font-weight:bold;"></div>

      <button class="btn" onclick="proses()">LANJUTKAN</button>
    </div>
  </div>

  <div id="step-preview" style="display: none;">
    <div class="card">
        <div id="preview"></div>
        <button class="btn" style="background: #555; margin-top: 15px;" onclick="kembaliKeForm()">Batal dan Kembali</button>
    </div>
  </div>

<div id="customModal" style="display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.8); align-items:center; justify-content:center;">
  <div class="card" style="max-width:400px; text-align:center; border: 2px solid #1e90ff;">
    <h3>‚ö†Ô∏è Perhatian</h3>
    <p id="modalText">anda sudah pernah mendaftar sebelumnya. Ingin coba lagi?</p>
    <div style="display:flex; gap:10px;">
      <button class="btn" onclick="tutupModal(true)">YA, LANJUTKAN</button>
      <button class="btn" style="background:#ff4d4d;" onclick="tutupModal(false)">BATAL</button>
    </div>
  </div>
</div>

<div class="footer">
  ¬© <span class="year-auto"></span> GROUP RFS INDONESIA ‚Ä¢ Fly Safe, Fly Smart<br>
  ¬© <span class="year-auto"></span> Raka developer
</div>
</div>

<script>
    const adminDB = {
    A1: "NjI4ODI4NzIyNDU2Mg==",
    A2: "NjI4NTM2NDMyODU4OQ==",
    A3: "NjI4MzE0MDIyMjcxMQ=="
};
    /* ==========================================
       1. FUNGSI TEMA & NAVIGASI
    ============================================ */
    function toggleTheme() {
        document.body.classList.toggle("light-theme");
        const isLight = document.body.classList.contains("light-theme");
        localStorage.setItem("theme", isLight ? "light" : "dark");
    }

    function toggleMenu() {
        const menu = document.getElementById("navMenu");
        menu.style.display = (menu.style.display === "flex") ? "none" : "flex";
    }

    window.onload = () => {
        if (localStorage.getItem("theme") === "light") {
            document.body.classList.add("light-theme");
        }
        document.querySelectorAll(".year-auto").forEach(el => {
            el.textContent = new Date().getFullYear();
        });
    };

    /* ==========================================
       2. FUNGSI SLIDER PESAWAT
    ============================================ */
    let slideIndex = 0;
    function showSlides() {
        const slides = document.querySelectorAll(".slides img");
        const slidesContainer = document.querySelector(".slides");
        if(slideIndex >= slides.length) slideIndex = 0;
        if(slideIndex < 0) slideIndex = slides.length - 1;
        slidesContainer.style.transform = `translateX(${-slideIndex * 100}%)`;
    }

    function plusSlides(n) {
        slideIndex += n;
        showSlides();
    }

    setInterval(() => {
        slideIndex++;
        showSlides();
    }, 5000);

    /* ==========================================
       3. LOGIKA PENDAFTARAN & MODAL
    ============================================ */
    
    function tanyaUser() {
        return new Promise((resolve) => {
            const modal = document.getElementById("customModal");
            modal.style.display = "flex";
            document.body.style.overflow = "hidden";
            
            window.tutupModal = function(jawaban) {
                modal.style.display = "none";
                document.body.style.overflow = "auto";
                resolve(jawaban);
            };
        });
    }

    function kembaliKeForm() {
        document.getElementById("main-content").style.display = "block";
        document.getElementById("step-preview").style.display = "none";
        window.scrollTo(0, 0);
    }

    async function proses() {
        const errorDiv = document.getElementById("formError");
        errorDiv.innerHTML = ""; 

        const nama = document.getElementById("nama").value.trim();
        const wa = document.getElementById("wa").value.trim();
        const umur = document.getElementById("umur").value.trim();
        const alasan = document.getElementById("alasan").value.trim();
        const tiktok = document.getElementById("tiktok").value.trim();

        const vKelas = document.getElementById("kelas").value;
        const vFollower = document.getElementById("follower").value;
        const vProvinsi = document.getElementById("provinsi").value;
        const vKota = document.getElementById("kota").value;
        const vPlanet = document.getElementById("planet").value;
        const vGalaxy = document.getElementById("galaxy").value;

        if (!nama || !wa || !umur || !alasan) {
            errorDiv.innerHTML = "‚ùó Lengkapi data wajib (Nama, WA, Umur, Alasan)";
            return;
        }

        let nomor = wa.replace(/\D/g, "");
        if (nomor.startsWith("08")) nomor = "62" + nomor.substring(1);
        if (nomor.length < 10 || nomor.length > 15) {
            errorDiv.innerHTML = "‚ùó Nomor WhatsApp tidak valid";
            return;
        }

        if (tiktok && !/^@[a-zA-Z0-9._]{3,30}$/.test(tiktok)) {
            errorDiv.innerHTML = "‚ùó Akun TikTok tidak valid. Gunakan format @username";
            return;
        }

        if (parseInt(umur) < 5 || parseInt(umur) > 100) {
            errorDiv.innerHTML = "‚ùó Umur harus antara 5 hingga 100 tahun";
            return;
        }

        let waSimpan = localStorage.getItem("rfs_wa");
        if (waSimpan === nomor) {
            const setuju = await tanyaUser(); 
            if (!setuju) return;
        }

        localStorage.setItem("rfs_wa", nomor);

        const idMember = "RFS_I-" + new Date().toISOString().slice(0, 10).replace(/-/g, "") + "-" + Math.floor(100 + Math.random() * 900);

        const pesan = `PENDAFTARAN GROUP RFS INDONESIA

STATUS    : MENUNGGU PERSETUJUAN ADMIN
ID MEMBER : ${idMember}

NAMA      : ${nama}
WHATSAPP  : ${nomor}
KELAS     : ${vKelas}
UMUR      : ${umur}
TIKTOK    : ${tiktok}
FOLLOWER  : ${vFollower}
PROVINSI  : ${vProvinsi}
KOTA      : ${vKota}
PLANET    : ${vPlanet}
GALAXY    : ${vGalaxy}
ALASAN    : ${alasan}

¬© GROUP RFS INDONESIA ‚Ä¢ Fly Safe, Fly Smart
- From the RFS Indonesia website -`;

                document.getElementById("preview").innerHTML = `
<div class="preview" style="text-align: left;">
    <b style="display: block; text-align: center; font-size: 16px; margin-bottom: 15px;">üìå PREVIEW DATA</b>
    
    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px dashed #555;">
        <pre style="white-space: pre-wrap; font-family: 'Courier New', Courier, monospace; font-size: 13px; margin: 0; color: #ddd;">${pesan}</pre>
    </div>

    <hr style="border: 0; border-top: 1px solid #444; margin: 20px 0;">

    <div style="display: flex; flex-direction: row; align-items: flex-start; gap: 10px; margin-bottom: 20px; padding: 12px; background: rgba(30,144,255,0.08); border-radius: 8px; border: 1px solid rgba(30,144,255,0.2);">
        <input type="checkbox" id="setujuSyarat" onchange="toggleKirimBtn()" 
               style="min-width: 18px; min-height: 18px; width: 18px; height: 18px; cursor: pointer; margin: 0; margin-top: 3px; accent-color: #1e90ff;"><label for="setujuSyarat" style="cursor: pointer; font-size: 13px; line-height: 1.4; color: inherit; margin: 0;">Saya menyatakan bahwa data di atas sudah benar dan saya setuju mematuhi <b>Syarat & Ketentuan</b> Group RFS Indonesia.
        </label>
    </div>

    <div id="captcha-preview" class="captcha-container" style="margin-bottom: 20px;"></div>
    <div id="captchaError" style="color:#ff6b6b; font-size:12px; margin-bottom:10px; text-align:center;"></div>

    <button id="btnKirimAdmin" class="btn" style="opacity: 0.5; cursor: not-allowed; transition: all 0.3s ease; background: #555;" onclick="validasiDanKirim('${encodeURIComponent(pesan)}')">KIRIM DATA KE ADMIN
    </button>
</div>`;

        // Render ulang reCAPTCHA secara manual karena elemennya baru dibuat via innerHTML
        setTimeout(() => {
            grecaptcha.render('captcha-preview', {
                'sitekey': '6LducjIsAAAAANGxKlq05dgfptsMPherCbqQLZGZ',
                'theme': localStorage.getItem("theme") === "light" ? 'light' : 'dark'
            });
        }, 100);

        // SEMBUNYIKAN HALAMAN UTAMA, TAMPILKAN PREVIEW
        document.getElementById("main-content").style.display = "none";
        document.getElementById("step-preview").style.display = "block";
        window.scrollTo(0, 0);
    }
    
    function toggleKirimBtn() {
        const checkbox = document.getElementById("setujuSyarat");
        const btn = document.getElementById("btnKirimAdmin");
        
        if (checkbox && checkbox.checked) {
            btn.disabled = false;
            btn.style.opacity = "1";
            btn.style.cursor = "pointer";
            btn.style.background = "#1e90ff";
        } else if (btn) {
            btn.disabled = true;
            btn.style.opacity = "0.5";
            btn.style.cursor = "not-allowed";
            btn.style.background = "#555";
        }
    }
    function validasiDanKirim(pesanTerencode) {
    const checkbox = document.getElementById("setujuSyarat");
    const captchaResponse = grecaptcha.getResponse();
    const captchaError = document.getElementById("captchaError");

    if (!checkbox || !checkbox.checked) {
        alert("Harap centang persetujuan syarat & ketentuan.");
        return;
    }

    if (captchaResponse.length === 0) {
        captchaError.innerHTML = "‚ùó Silakan centang reCAPTCHA terlebih dahulu.";
        return;
    }

    const lastSubmit = localStorage.getItem("lastSubmitTime");
    const now = Date.now();
    if (lastSubmit && now - lastSubmit < 60000) {
        alert("‚è≥ Tunggu 1 menit sebelum mengirim ulang.");
        return;
    }
    localStorage.setItem("lastSubmitTime", now);

    // pilih admin acak
    const keys = Object.keys(adminDB);
    const adminID = keys[Math.floor(Math.random() * keys.length)];
    const adminNumber = decodeAdmin(adminID);

    // kirim WA
    window.open(
        `https://wa.me/${adminNumber}?text=${pesanTerencode}`,
        "_blank"
    );
}
function decodeAdmin(id) {
    return atob(adminDB[id]);
}
</script>

</body>
</html>
